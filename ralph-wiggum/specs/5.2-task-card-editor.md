# Spec: Phase 5.2 - Task Card & Editor

> **Goal:** Redesign the Task Card for better information density and add an inline description editor.
> **Context:** Task cards are currently cluttered and description editing is read-only.

## 1. Task Card Redesign
**File:** `src/features/kanban/components/task-card.tsx`
- **Design Spec:**
  - **Padding:** `p-3` (reduce from `p-4`).
  - **Header:** `flex-row justify-between items-start`. Title (`font-medium text-sm`) + Drag Handle. REMOVE "Task" badge.
  - **Body:** `mt-2`. Show `task.description` (truncated `line-clamp-3`, `text-xs text-muted-foreground`).
  - **Footer:** `mt-3 pt-2 border-t`. Show Parent Project (`text-[10px] text-muted-foreground`, small icon).

## 2. Editable Description
**File:** `src/features/kanban/components/task-description-editor.tsx` (Create New)
- **Requirement:** Auto-saving textarea.
- **Props:** `taskId: string`, `initialDescription: string`.
- **Implementation:**
  - State: `value` (local string).
  - UI: `Textarea` (autosize).
  - Logic:
    - `onChange`: Update local state.
    - `onBlur` / `onKeyDown(Cmd+Enter)`: Trigger mutation `updateIssue({ id: taskId, description: value })`.
    - Show "Saved" toast or small icon on success.

## 3. Integration
**File:** `src/features/kanban/components/task-card.tsx`
- **Action:** In `handleCardClick`, replace the static description text in `InfobarContent` with `<TaskDescriptionEditor ... />`.
- **Note:** You may need to update `InfobarContent` type in `src/components/ui/infobar.tsx` to accept `ReactNode` for description content if it doesn't already.

## 4. Parent Visibility Fix
**File:** `src/features/kanban/components/new-task-dialog.tsx`
- **Requirement:** Show project name immediately on new task.
- **Action:**
  - Get current project title using `useProjects()` and `currentProjectId`.
  - In mutation `onSuccess`, inject the parent object: `{ parent: { id: pid, title: pTitle, type: 'project' } }` into the optimistic/local update.

## 5. Verification
- [ ] Task card title is in header.
- [ ] "Task" badge is gone.
- [ ] Sidebar description is editable and auto-saves.
- [ ] New tasks show project footer immediately.
